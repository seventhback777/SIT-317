<!DOCTYPE html>

<html lang="zh-Hans">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>è½»é‡è®°ä¸€ç¬” Â· Lightweight Note â€” é«˜ä¿çœŸè½åœ°é¡µï¼ˆæ‹–åŠ¨å°é¸½å­ç‰ˆï¼‰</title>
<meta content="è½»é‡è®°ä¸€ç¬”ï¼š30 ç§’å†…å®Œæˆè®°è´¦ã€‚æœ¬åœ°ä¼˜å…ˆã€å¯æ’¤å›ä¸å¯¼å‡ºã€‚å°†â€œæ‹–åŠ¨æ‰‹æŸ„â€æ”¹ä¸ºâ€œæ‹–åŠ¨å°é¸½å­â€ï¼šä»¥åœ†å¿ƒä¸ºåŸç‚¹ï¼Œè¶…è¿‡é˜ˆå€¼è§¦å‘æ–°å¢ã€‚" name="description"/>
<style>
    :root{
      --brand:#111111; --brand-2:#2b2b2b; --ink:#111111; --muted:#a1a1aa;
      --bg:#0b0b0b; --paper:#ffffff; --card:#0f172a; --line:#e5e5e5;
      --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.15);
    }
    *{ box-sizing:border-box }
    html,body{ height:100%  padding-top:60px;}
    body{ margin:0; font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Arial; color:var(--ink); background:#f8fafc }
    a{ color:var(--brand); text-decoration:none }
    .container{ width:min(1100px, 92%); margin:0 auto }

    /* Navbar */
    .nav{ position:fixed; top:0; z-index:9999; backdrop-filter:saturate(1.2) blur(8px);
      background:rgba(255,255,255,.7); border-bottom:1px solid #e9eef5;  left:0; right:0; width:100%; position:fixed; top:0; left:0; right:0; width:100%; z-index:9999; }
    .nav .inner{ display:flex; align-items:center; justify-content:space-between; padding:12px 0 }
    .brand{ display:flex; align-items:center; gap:10px }
    .logo{ width:36px; height:36px; border-radius:10px;
      background:radial-gradient(circle at 30% 30%, #ffffff 0 30%, #eeeeee 35%, #bbbbbb 60%, #444444 100%);
      box-shadow:inset 0 0 0 2px rgba(255,255,255,.8); position:relative; }
    .logo::after{ content:""; position:absolute; inset:6px 6px 12px 8px;
      background:conic-gradient(from 180deg at 60% 40%, #fff 0 25%, #0000 0 100%), radial-gradient(circle at 65% 45%, #222 3px, #0000 4px);
      border-radius:12px 14px 14px 12px; box-shadow:0 0 0 2px rgba(255,255,255,.6) inset; }
    .brand h1{ margin:0; font-size:16px; letter-spacing:.3px }
    .nav a.link{ margin-left:18px; font-weight:600; color:#111111 }
    .nav a.cta{ margin-left:18px; padding:10px 14px; border-radius:12px; color:#fff; background:linear-gradient(135deg, var(--brand), var(--brand-2)); box-shadow:var(--shadow) }

    /* Hero */
    .hero{ background:radial-gradient(1200px 600px at 80% -200px, #3a3a3a 0, #0b0b0b 50%, #0b0b0b 100%), var(--bg); color:#f5f5f5; padding:72px 0 56px }
    .hero .grid{ display:grid; grid-template-columns:1.15fr .85fr; gap:40px }
    .title{ font-size:40px; line-height:1.2; margin:0 0 14px }
    .subtitle{ color:#bfbfbf; margin:0 0 26px }
    .btns{ display:flex; gap:14px; flex-wrap:wrap }
    .btn{ display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:14px; font-weight:700;
      box-shadow:var(--shadow); border:1px solid rgba(255,255,255,.15); }
    .btn.primary{ background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff }
    .btn.ghost{ background:rgba(255,255,255,.08); color:#eaf3ff }

    .device{ border-radius:22px; background:linear-gradient(180deg,#161616,#0b0b0b); border:1px solid rgba(255,255,255,.2);
      padding:18px; box-shadow:0 20px 50px rgba(0,0,0,.35); }
    .status{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin:14px 0 0 }
    .card{ background:#161616; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:12px; color:#ededed }
    .label{ color:#a1a1aa; font-size:12px }
    .big{ font-size:22px; font-weight:800; margin-top:6px }

    /* --- New: Radial Pigeon Drag --- */
    .drag-area{ margin-top:16px; display:flex; align-items:center; gap:16px; color:#a1a1aa }
    .radial{ position:relative; width:160px; height:160px; border-radius:50%; flex:0 0 auto;
      background:
        radial-gradient(circle 54px at 50% 50%, rgba(255,255,255,.08) 0 98%, #0000 100%),
        conic-gradient(from -90deg, rgba(255,255,255,.34) var(--deg,0deg), rgba(255,255,255,.08) 0);
      border:1px dashed rgba(255,255,255,.26);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);
    }
    .pigeon{ position:absolute; left:50%; top:50%; width:68px; height:68px; transform:translate(-50%,-50%);
      cursor:grab; outline:none; -webkit-user-drag:none; user-select:none; touch-action:none;
      filter:drop-shadow(0 10px 18px rgba(0,0,0,.45));
      background:transparent; border:none; padding:0; }
    .pigeon:active{ cursor:grabbing }
    .pigeon svg{ width:100%; height:100% }
    .pigeon .body{ fill:#f8fafc; stroke:#bfc6d2; stroke-width:2 }
    .pigeon .wing { fill:#e5e5e5; stroke:#bfc6d2; stroke-width:2; transform-origin: 34px 34px }
    .pigeon .head { fill:#f8fafc; stroke:#bfc6d2; stroke-width:2 }
    .pigeon .eye  { fill:#0f172a }
    .pigeon .beak { fill:#c0c0c0 }
    .drag-hint{ font-size:12px; line-height:1.4 }

    /* Sections */
    section{ padding:64px 0; background:#fff }
    .section-title{ text-align:center; margin:0 0 18px; font-size:28px }
    .section-sub{ text-align:center; color:#64748b; margin:0 auto 30px; max-width:720px }
    .features{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px }
    .feature{ background:#fff; border:1px solid var(--line); border-radius:var(--radius); padding:18px; box-shadow:0 10px 24px rgba(2,6,23,.05) }
    .feature h3{ margin:10px 0 8px; font-size:18px }
    .icon{ width:28px; height:28px; border-radius:8px; display:grid; place-items:center; background:linear-gradient(135deg, #f2f2f2, #e1e1e1) }

    .pricing{ display:grid; grid-template-columns:1fr 1fr; gap:16px }
    .plan{ background:#fff; border:1px solid var(--line); border-radius:var(--radius); padding:22px; box-shadow:0 12px 28px rgba(2,6,23,.06) }
    .plan .price{ font-size:34px; font-weight:900; color:var(--brand); margin:8px 0 }
    .plan ul{ padding-left:18px; color:#334155 }

    .faq{ display:grid; grid-template-columns:1fr 1fr; gap:16px }
    .qa{ background:#fff; border:1px solid var(--line); border-radius:var(--radius); padding:18px }

    /* Modal */
    .overlay{ position:fixed; inset:0; background:rgba(2,6,23,.6); display:none; align-items:center; justify-content:center; z-index:50 }
    .modal{ width:min(560px,92%); background:#fff; border-radius:18px; border:1px solid var(--line); box-shadow:var(--shadow); padding:16px }
    .row{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
    .input, select{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid #cbd5e1 }
    .modal h3{ margin:0 0 10px }
    .actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:10px }
    .btn{ display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:14px; font-weight:700; box-shadow:var(--shadow); border:1px solid rgba(255,255,255,.15); }
    .btn.small{ padding:8px 12px; border-radius:10px; box-shadow:none; border:1px solid #d4e0f2 }
    .btn.line{ background:#fff; color:var(--brand) }
    .btn.primary{ background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff }

    /* Footer */
    footer{ background:var(--brand); color:#eaf3ff; padding:26px 0; margin-top:40px }
    footer .foot{ display:flex; align-items:center; justify-content:space-between; gap:14px; flex-wrap:wrap }
    footer a{ color:#fff; opacity:.85 }

    @media (max-width:900px){ .hero .grid{ grid-template-columns:1fr } .features{ grid-template-columns:1fr 1fr } .pricing,.faq{ grid-template-columns:1fr } }
    @media (max-width:600px){ .features{ grid-template-columns:1fr } .title{ font-size:32px } }
  </style>
<style>
      .i18n-switch select{ border:1px solid #dcdde3; background:#fff; color:#111; padding:6px 8px; border-radius:10px }
      .nav .i18n-switch{ margin-left:12px }
      @media (prefers-color-scheme: dark){
        .i18n-switch select{ background:#0f172a; color:#e5e7eb; border-color:#303544 }
      }
    </style>
</head>
<body>
<div class="nav">
<div class="container inner">
<div class="brand"><a href="teaser_bw_splash_whyus_i18n_multilang_LINKED.html" style="color:inherit;text-decoration:none">é¸½å­é‡‘è</a></div>
<div>
<a class="link" href="#features">åŠŸèƒ½</a>
<a class="link" href="#demo">æ¼”ç¤º</a>
<a class="link" href="#pricing">å®šä»·</a>
<a class="link" href="#faq">FAQ</a>
<a class="cta" href="#demo">ç«‹å³ä½“éªŒ</a>
</div>
</div>
</div>
<header class="hero">
<div class="container grid">
<div>
<h2 class="title">30 ç§’å†…è®°ä¸€ç¬”ï¼Œ<br/>æŠŠè®°è´¦å˜æˆä¸€ä¸ªå°ä¹ æƒ¯</h2>
<p class="subtitle">æœ¬åœ°ä¼˜å…ˆÂ·å¯æ’¤å›ä¸å¯¼å‡ºÂ·â€œé¸½å­æ¨¡å‹â€å¾®äº¤äº’ï¼šHandle â†’ Intent â†’ Pause â†’ Feedbackã€‚<br/>å·²å°†<span style="font-weight:700">æ‹–åŠ¨æ‰‹æŸ„</span>æ”¹ä¸º<span style="font-weight:700">æ‹–åŠ¨å°é¸½å­</span>è¿›å…¥æ–°å¢ã€‚</p>
<div class="btns">
<a class="btn primary" href="#demo">æ‰“å¼€äº’åŠ¨æ¼”ç¤º</a>
<a class="btn ghost" href="#features">çœ‹çœ‹æ ¸å¿ƒåŠŸèƒ½</a>
</div>
</div>
<div class="device">
<div class="tiny">Demo Â· æœˆåº¦æ¦‚è§ˆ</div>
<div class="status" id="status-cards">
<div class="card"><div class="label">æœ¬æœˆæ”¯å‡º</div><div class="big" id="outflow">Â¥ 1,262.50</div></div>
<div class="card"><div class="label">æœ¬æœˆæ”¶å…¥</div><div class="big" id="inflow">Â¥ 3,200.00</div></div>
<div class="card"><div class="label">é¢„ç®—å‰©ä½™</div><div class="big" id="left">Â¥ 1,737.50</div></div>
</div>
<!-- Radial drag area (replaces vertical handle) -->
<div aria-label="æ‹–åŠ¨å°é¸½å­è¿›å…¥æ–°å¢" class="drag-area">
<div aria-hidden="false" class="radial" id="ring">
<button aria-label="å°†å°é¸½å­ä»åœ†å¿ƒæ‹–å‡ºä»¥æ–°å¢" class="pigeon" id="pigeon" role="button" title="æ‹–åŠ¨å°é¸½å­">
<svg aria-hidden="true" viewbox="0 0 68 68">
<ellipse class="body" cx="34" cy="38" rx="18" ry="13"></ellipse>
<circle class="head" cx="48" cy="29" r="7"></circle>
<circle class="eye" cx="50" cy="28" r="1.8"></circle>
<polygon class="beak" points="54,29 60,31 54,33"></polygon>
<path class="wing" d="M20,38 C26,26 46,26 54,38 C44,40 26,44 20,38 Z"></path>
<path d="M18,39 L12,42 L18,42 Z" fill="#cbd5e1"></path>
</svg>
</button>
</div>
<div class="drag-hint">å°†<b>å°é¸½å­</b>ä»åœ†å¿ƒæ‹–å‡ºï¼Œè¾¾åˆ°é˜ˆå€¼å³è§¦å‘â€œæ–°å¢â€</div>
</div>
</div>
</div>
</header>
<!-- Features -->
<section id="features">
<div class="container">
<h3 class="section-title">æ ¸å¿ƒåŠŸèƒ½</h3>
<p class="section-sub">ä¸ºâ€œæ›´å¿«çš„è®°å½•ã€æ›´æ¸…æ™°çš„åé¦ˆã€æ›´å¼ºçš„æŒæ§â€è€Œè®¾è®¡ã€‚</p>
<div class="features">
<div class="feature"><div class="icon">âœš</div><h3>æœ€å°‘å¿…å¡«</h3><p>é‡‘é¢/ç±»å‹/åˆ†ç±»/æ—¥æœŸå››è¦ç´ ï¼Œä¸€å±å®Œæˆï¼›å¤‡æ³¨å¯é€‰ï¼Œé™ä½æ‘©æ“¦ã€‚</p></div>
<div class="feature"><div class="icon">ğŸ•Šï¸</div><h3>é¸½å­æ¨¡å‹</h3><p>Handleâ†’Intentâ†’Pauseâ†’Feedback çš„å¾ªç¯ï¼Œè®©è®°è´¦åƒç©å°æ¸¸æˆä¸€æ ·é¡ºæ‰‹ã€‚</p></div>
<div class="feature"><div class="icon">ğŸ“Š</div><h3>ä¸‰å¤§æŒ‡æ ‡</h3><p>æœ¬æœˆæ”¯å‡º/æ”¶å…¥/é¢„ç®—å‰©ä½™ï¼Œä¸€çœ¼çœ‹åˆ°ä½ï¼›é€‚æ—¶ç»™å‡ºè½»æé†’ã€‚</p></div>
<div class="feature"><div class="icon">ğŸ”</div><h3>æµæ°´æ£€ç´¢</h3><p>æœç´¢/ç­›é€‰/CSV å¯¼å‡ºï¼Œå…¼é¡¾æŸ¥è´¦ä¸æŠ¥é”€ç­‰çœŸå®åœºæ™¯ã€‚</p></div>
<div class="feature"><div class="icon">ğŸ§ </div><h3>è½»é‡åˆ†æ</h3><p>åˆ†ç±»å æ¯”ä¸è¶‹åŠ¿æ¦‚è§ˆï¼Œä¸å †ç Œå¤æ‚å›¾è¡¨ï¼Œä¸“æ³¨å†³ç­–ã€‚</p></div>
<div class="feature"><div class="icon">ğŸ”</div><h3>æœ¬åœ°ä¼˜å…ˆ</h3><p>é»˜è®¤æœ¬åœ°æ•°æ®ï¼Œéšæ—¶å¯¼å‡º/æ’¤å›ï¼›å¯é€‰åŒæ­¥ï¼Œæ•°æ®æŒæ§åœ¨ä½ æ‰‹é‡Œã€‚</p></div>
</div>
</div>
</section>
<!-- Demo -->
<section id="demo">
<div class="container">
<h3 class="section-title">äº’åŠ¨æ¼”ç¤ºï¼ˆæ¨¡æ‹Ÿï¼‰</h3>
<p class="section-sub">ç°æ”¯æŒä¸¤ç§è¿›å…¥æ–¹å¼ï¼š<b>æ‹–åŠ¨å°é¸½å­</b>ï¼ˆä¸Šæ–¹ Hero å†…ï¼‰æˆ–ä½¿ç”¨ä¸‹æ–¹è¡¨å•æŒ‰é’®ã€‚ä¿å­˜åæ•°æ®å†™å…¥æœ¬åœ°å­˜å‚¨å¹¶åˆ·æ–°ä¸‰å¤§æŒ‡æ ‡ã€‚</p>
<div class="device" style="background:#fff;border:1px solid #e5eaf2;color:#0b1324;">
<div class="tiny" style="color:#334155">æ¨¡æ‹Ÿè¾“å…¥</div>
<div class="row" style="margin-top:8px">
<input class="input" id="amount" placeholder="é‡‘é¢ï¼ˆæ­£æ•°ï¼‰"/>
<select class="input" id="type"><option value="out">æ”¯å‡º</option><option value="in">æ”¶å…¥</option></select>
</div>
<div class="row" style="margin-top:8px">
<select class="input" id="cat"><option value="é¤é¥®">é¤é¥®</option><option value="äº¤é€š">äº¤é€š</option><option value="å±…ä½">å±…ä½</option><option value="å·¥èµ„">å·¥èµ„</option><option value="å…¶ä»–">å…¶ä»–</option></select>
<input class="input" id="date" placeholder="YYYY-MM-DD"/>
</div>
<input class="input" id="note" placeholder="å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰" style="margin-top:8px"/>
<div class="actions">
<button class="btn small line" id="reset">é‡ç½®</button>
<button class="btn small primary" id="save">ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨</button>
</div>
<div class="tiny" id="hint" style="color:#0a7a2d; margin-top:8px; display:none">å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ âœ…</div>
</div>
</div>
</section>
<!-- Pricing -->
<section id="pricing">
<div class="container">
<h3 class="section-title">å®šä»·ï¼ˆå»ºè®®ç¨¿ï¼‰</h3>
<div class="pricing">
<div class="plan"><h4>Free</h4><div class="price">Â¥0</div>
<ul><li>æœ€å°‘å¿…å¡«å¿«é€Ÿè®°ä¸€ç¬”</li><li>ä¸‰å¤§æŒ‡æ ‡ &amp; è½»é‡åˆ†æ</li><li>æœ¬åœ°ä¼˜å…ˆ + CSV/JSON å¯¼å‡º</li></ul>
</div>
<div class="plan"><h4>Pro</h4><div class="price">Â¥12/æœˆ</div>
<ul><li>é¢„ç®—é˜ˆå€¼æé†’ &amp; è§„åˆ™è‡ªåŠ¨åˆ†ç±»</li><li>å¤šè®¾å¤‡åŒæ­¥ï¼ˆå¯é€‰ï¼‰</li><li>å‘¨æœŸæ€§è´¦ç›® &amp; è‡ªå®šä¹‰åˆ†ç±»</li></ul>
</div>
</div>
</div>
<div style="text-align:center; margin-top:16px;">
<a class="btn small" href="subscribe_membership_bw_FULL_i18n_LINKED.html" style="display:inline-flex; align-items:center; gap:8px; text-decoration:none;">
          æŸ¥çœ‹å…¨éƒ¨è®¢é˜…æƒç›Š <span style="display:inline-block; transform:translateX(0); transition:transform .25s;">â†’</span>
</a>
</div>
</section>
<!-- FAQ -->
<section id="faq">
<div class="container">
<h3 class="section-title">FAQ</h3>
<div class="faq">
<div class="qa"><h4>æ•°æ®ä¼šä¸Šä¼ å—ï¼Ÿ</h4><p>é»˜è®¤ä¸ä¼šã€‚æœ¬åœ°ä¼˜å…ˆï¼Œä½ å¯ä»¥éšæ—¶å¯¼å‡º/åˆ é™¤ï¼›åç»­è‹¥å¼€å¯åŒæ­¥ï¼Œä¹Ÿä¼šæä¾›æ˜ç¡®çš„æˆæƒä¸å…³é—­å…¥å£ã€‚</p></div>
<div class="qa"><h4>ä¸ºä»€ä¹ˆæ˜¯æ‹–åŠ¨å°é¸½å­ï¼Ÿ</h4><p>ä»¥åœ†å¿ƒä¸ºåŸç‚¹ï¼Œæ‹–åˆ°é˜ˆå€¼è§¦å‘ï¼Œä»ªå¼æ„Ÿå¼ºï¼Œè¯¯è§¦ç‡ä½ï¼›åŒæ—¶å¼ºåŒ–â€œæˆ‘è¦è®°ä¸€ç¬”â€çš„æ„å›¾ç¡®è®¤ã€‚</p></div>
</div>
</div>
</section>
<footer>
<div class="container foot">
<div class="brand" style="color:#fff"><div aria-hidden="true" class="logo"></div><strong>è½»é‡è®°ä¸€ç¬” Â· Lightweight Note</strong></div>
<div>Â© 2025 Â· Demo page for coursework.</div>
</div>
</footer>
<!-- Modal overlay for add entry -->
<div aria-hidden="true" class="overlay" id="overlay">
<div aria-labelledby="demoTitle" aria-modal="true" class="modal" role="dialog">
<h3 id="demoTitle">å¿«é€Ÿè®°ä¸€ç¬”ï¼ˆæ¼”ç¤ºï¼‰</h3>
<div class="row">
<input class="input" id="m_amount" placeholder="é‡‘é¢ï¼ˆæ­£æ•°ï¼‰"/>
<select class="input" id="m_type"><option value="out">æ”¯å‡º</option><option value="in">æ”¶å…¥</option></select>
</div>
<div class="row" style="margin-top:8px">
<select class="input" id="m_cat"><option value="é¤é¥®">é¤é¥®</option><option value="äº¤é€š">äº¤é€š</option><option value="å±…ä½">å±…ä½</option><option value="å·¥èµ„">å·¥èµ„</option><option value="å…¶ä»–">å…¶ä»–</option></select>
<input class="input" id="m_date" placeholder="YYYY-MM-DD"/>
</div>
<input class="input" id="m_note" placeholder="å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰" style="margin-top:8px"/>
<div class="actions">
<button class="btn small line" id="m_cancel">å–æ¶ˆ</button>
<button class="btn small primary" id="m_save">ä¿å­˜</button>
</div>
</div>
</div>
<script>
(function(){
  const $ = (s,root=document)=>root.querySelector(s);
  const $$ = (s,root=document)=>Array.from(root.querySelectorAll(s));

  // Apply a full dictionary to DOM (including cards)
  function applyDict(d){
    const navLinks = $$('.nav a.link');
    navLinks.forEach((a,i)=>{ if(d.nav_links?.[i]) a.textContent = d.nav_links[i]; });
    const navCta = $('.nav a.cta'); if(navCta && d.nav_cta) navCta.textContent = d.nav_cta;

    if($('header .title') && d.hero?.title) $('header .title').innerHTML = d.hero.title;
    if($('header .subtitle') && d.hero?.sub) $('header .subtitle').textContent = d.hero.sub;

    if($('#features .section-title') && d.features?.title) $('#features .section-title').textContent = d.features.title;
    if($('#features .section-sub') && d.features?.sub) $('#features .section-sub').textContent = d.features.sub;

    const cards = $$('#features .feature');
    cards.forEach((el,i)=>{
      const item = d.features?.cards?.[i];
      if(!item) return;
      const h = el.querySelector('h3'); const p = el.querySelector('p');
      if(h && item.h) h.textContent = item.h;
      if(p && item.p) p.textContent = item.p;
    });

    if($('#demo .section-title') && d.demo?.title) $('#demo .section-title').textContent = d.demo.title;
    if($('#demo .section-sub') && d.demo?.sub) $('#demo .section-sub').textContent = d.demo.sub;
    if($('#reset') && d.demo?.reset) $('#reset').textContent = d.demo.reset;
    if($('#save')  && d.demo?.save)  $('#save').textContent  = d.demo.save;
    if($('#hint')  && d.demo?.hint)  $('#hint').textContent  = d.demo.hint;

    if($('#pricing .section-title') && d.pricing?.title) $('#pricing .section-title').textContent = d.pricing.title;
    const planH = $$('#pricing .plan h4'); planH.forEach((h,i)=>{ if(d.pricing?.planH?.[i]) h.textContent = d.pricing.planH[i]; });
    const prices = $$('#pricing .plan .price'); if(prices.length>1 && d.pricing?.pricePro) prices[1].textContent = d.pricing.pricePro;

    const freeLis = $('#pricing .plan:nth-of-type(1)'); if(freeLis && d.pricing?.freeLis) { const lis = freeLis.querySelectorAll('li'); lis.forEach((li,i)=>{ if(d.pricing.freeLis[i]) li.textContent = d.pricing.freeLis[i]; }); }
    const proLis  = $('#pricing .plan:nth-of-type(2)'); if(proLis && d.pricing?.proLis)  { const lis = proLis.querySelectorAll('li');  lis.forEach((li,i)=>{ if(d.pricing.proLis[i]) li.textContent  = d.pricing.proLis[i];  }); }

    if($('#pricing a.btn.small') && d.pricing?.benefitsLink) $('#pricing a.btn.small').innerHTML = d.pricing.benefitsLink.replace('â†’','<span style="display:inline-block; transform:translateX(0); transition:transform .25s;">â†’</span>');

    if($('#faq .section-title') && d.faq?.title) $('#faq .section-title').textContent = d.faq.title;
    const qa = $$('#faq .qa'); qa.forEach((x,i)=>{ const item = d.faq?.qa?.[i]; if(!item) return; const h=x.querySelector('h4'), p=x.querySelector('p'); if(h && item.q) h.textContent=item.q; if(p && item.a) p.textContent=item.a; });

    const right = document.querySelector('footer .foot div:last-child'); if(right && d.footer_right) right.textContent = d.footer_right;
  }

  const DICTS = {
    zh: null, // zh uses the original HTML texts
    en: {"nav_links": ["Features", "Demo", "Pricing", "FAQ"], "nav_cta": "Try now", "hero": {"title": "Log a note in 30 seconds.<br/>Turn bookkeeping into one simple action.", "sub": "Local-first Â· Undo & Export Â· â€œPigeon modelâ€ microâ€‘interaction: Handle â†’ Intent â†’ Pause â†’ Feedback. The vertical handle is replaced with a draggable pigeon that triggers Quick Add."}, "features": {"title": "Key Features", "sub": "Designed for faster capture, clearer feedback, and stronger control.", "cards": [{"h": "Minimal Required", "p": "Amount / Type / Category / Date on a single screen; optional notes reduce friction."}, {"h": "Pigeon Model", "p": "Handle â†’ Intent â†’ Pause â†’ Feedback. A playful loop that keeps the habit."}, {"h": "Three KPIs", "p": "Monthly Outflow / Inflow / Budget Left, surfaced first with gentle nudges."}, {"h": "Search Records", "p": "Search, filter and export CSV to support realâ€‘world workflows like reimbursements."}, {"h": "Light Analysis", "p": "Category split and trend overview. No noisy chartsâ€”focus on decisions."}, {"h": "Localâ€‘first", "p": "Data stays on device by default; export/delete anytime. Optional sync later."}]}, "demo": {"title": "Interactive Demo (Simulated)", "sub": "Two ways: drag the pigeon in the hero above, or use the form below. Data is saved locally and KPIs refresh instantly.", "reset": "Reset", "save": "Save to Local", "hint": "Saved to local storage âœ…"}, "pricing": {"title": "Pricing (Suggested)", "planH": ["Free", "Pro"], "pricePro": "Â¥12 / month", "freeLis": ["Minimal Quick Add", "Three KPIs & light analysis", "Localâ€‘first + CSV/JSON export"], "proLis": ["Budget thresholds & ruleâ€‘based auto categorisation", "Multiâ€‘device sync (optional)", "Recurring items & custom categories"], "benefitsLink": "View all membership benefits â†’"}, "faq": {"title": "FAQ", "qa": [{"q": "Will my data be uploaded?", "a": "Not by default. Localâ€‘first. Export/delete anytime. If sync is enabled later, explicit consent and controls are provided."}, {"q": "Why a draggable pigeon?", "a": "Radial drag from the origin with a threshold reduces misâ€‘triggers and strengthens the intention to â€œadd a noteâ€. "}]}, "footer_right": "Â© 2025 Â· Demo page for coursework."},
    ja: {"nav_links": ["æ©Ÿèƒ½", "ãƒ‡ãƒ¢", "ä¾¡æ ¼", "FAQ"], "nav_cta": "ä»Šã™ãè©¦ã™", "hero": {"title": "30ç§’ã§ãƒ¡ãƒ¢ã‚’è¨˜éŒ²ã€‚<br/>å®¶è¨ˆç°¿ã‚’ãŸã£ãŸ1ã¤ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ã€‚", "sub": "ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ»å–ã‚Šæ¶ˆã—/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ã€Œãƒãƒˆãƒ¢ãƒ‡ãƒ«ã€ãƒã‚¤ã‚¯ãƒ­ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼šãƒãƒ³ãƒ‰ãƒ«â†’æ„å›³â†’é–“â†’ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€‚ç¸¦ãƒãƒ³ãƒ‰ãƒ«ã®ä»£ã‚ã‚Šã«ãƒ‰ãƒ©ãƒƒã‚°ã§ãã‚‹ãƒãƒˆã§ã‚¯ã‚¤ãƒƒã‚¯è¿½åŠ ã€‚"}, "features": {"title": "ä¸»ãªæ©Ÿèƒ½", "sub": "ã‚ˆã‚Šé€Ÿã„å…¥åŠ›ã€æ˜ç¢ºãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€å¼·ã„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ãŸã‚ã«è¨­è¨ˆã€‚", "cards": [{"h": "æœ€å°å…¥åŠ›é …ç›®", "p": "é‡‘é¡ãƒ»ã‚¿ã‚¤ãƒ—ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒ»æ—¥ä»˜ã‚’1ç”»é¢ã«ã€‚ãƒ¡ãƒ¢ã¯ä»»æ„ã§æ‘©æ“¦ã‚’æ¸›ã‚‰ã™ã€‚"}, {"h": "ãƒãƒˆãƒ¢ãƒ‡ãƒ«", "p": "ãƒãƒ³ãƒ‰ãƒ«â†’æ„å›³â†’é–“â†’ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€‚ç¿’æ…£ã‚’ç¶­æŒã™ã‚‹éŠã³å¿ƒã‚ã‚‹ãƒ«ãƒ¼ãƒ—ã€‚"}, {"h": "3ã¤ã®KPI", "p": "æœˆã®æ”¯å‡ºãƒ»åå…¥ãƒ»äºˆç®—æ®‹ã‚’æœ€å„ªå…ˆã§è¡¨ç¤ºã€‚ç©ã‚„ã‹ãªãƒŠãƒƒã‚¸ã€‚"}, {"h": "è¨˜éŒ²ã®æ¤œç´¢", "p": "æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€‚ç²¾ç®—ãªã©å®Ÿå‹™ã«å¯¾å¿œã€‚"}, {"h": "ãƒ©ã‚¤ãƒˆåˆ†æ", "p": "ã‚«ãƒ†ã‚´ãƒªåˆ¥ã¨å‚¾å‘ã®æ¦‚è¦³ã€‚é¨’ãŒã—ã„ã‚°ãƒ©ãƒ•ãªã—â€”æ„æ€æ±ºå®šã«é›†ä¸­ã€‚"}, {"h": "ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ", "p": "æ—¢å®šã§ç«¯æœ«å†…ä¿å­˜ã€‚ã„ã¤ã§ã‚‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/å‰Šé™¤ã€‚åŒæœŸã¯å¾Œã‹ã‚‰ä»»æ„ã€‚"}]}, "demo": {"title": "ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ãƒ‡ãƒ¢ï¼ˆæ¨¡æ“¬ï¼‰", "sub": "ä¸Šéƒ¨ã®ãƒãƒˆã‚’ãƒ‰ãƒ©ãƒƒã‚°ã€ã¾ãŸã¯ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒ ã§è¿½åŠ ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã•ã‚Œã€KPIãŒå³æ™‚æ›´æ–°ã€‚", "reset": "ãƒªã‚»ãƒƒãƒˆ", "save": "ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜", "hint": "ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã—ã¾ã—ãŸ âœ…"}, "pricing": {"title": "ä¾¡æ ¼ï¼ˆææ¡ˆï¼‰", "planH": ["ç„¡æ–™", "Pro"], "pricePro": "Â¥12 / æœˆ", "freeLis": ["æœ€å°ã®ã‚¯ã‚¤ãƒƒã‚¯è¿½åŠ ", "3ã¤ã®KPIã¨ãƒ©ã‚¤ãƒˆåˆ†æ", "ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆï¼‹CSV/JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"], "proLis": ["äºˆç®—ã—ãã„å€¤ãƒ»ãƒ«ãƒ¼ãƒ«åˆ†é¡", "ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹åŒæœŸï¼ˆä»»æ„ï¼‰", "å®šæœŸé …ç›®ãƒ»ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ†ã‚´ãƒª"], "benefitsLink": "ä¼šå“¡ç‰¹å…¸ã‚’ã™ã¹ã¦è¦‹ã‚‹ â†’"}, "faq": {"title": "FAQ", "qa": [{"q": "ãƒ‡ãƒ¼ã‚¿ã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã‹ï¼Ÿ", "a": "æ—¢å®šã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§ã™ã€‚ã„ã¤ã§ã‚‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/å‰Šé™¤å¯èƒ½ã€‚åŒæœŸã‚’æœ‰åŠ¹ã«ã™ã‚‹å ´åˆã¯æ˜ç¤ºçš„ãªåŒæ„ã¨åˆ¶å¾¡ã‚’æä¾›ã—ã¾ã™ã€‚"}, {"q": "ãªãœãƒ‰ãƒ©ãƒƒã‚°ã§ãã‚‹ãƒãƒˆï¼Ÿ", "a": "åŸç‚¹ã‹ã‚‰ã®å††å½¢ãƒ‰ãƒ©ãƒƒã‚°ï¼‹é–¾å€¤ã«ã‚ˆã‚Šèª¤ä½œå‹•ã‚’æ¸›ã‚‰ã—ã€ã€Œè¿½åŠ ã™ã‚‹ã€ã¨ã„ã†æ„å›³ã‚’å¼·ã‚ã¾ã™ã€‚"}]}, "footer_right": "Â© 2025 Â· æˆæ¥­ç”¨ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã€‚"},
    es: {"nav_links": ["Funciones", "Demo", "Precios", "FAQ"], "nav_cta": "Probar ahora", "hero": {"title": "Registra en 30 segundos.<br/>Convierte la contabilidad en una sola acciÃ³n.", "sub": "Local-first Â· Deshacer y exportar Â· Microâ€‘interacciÃ³n â€œmodelo palomaâ€: Manija â†’ IntenciÃ³n â†’ Pausa â†’ Feedback. El asa vertical se reemplaza por una paloma arrastrable que abre el registro rÃ¡pido."}, "features": {"title": "Funciones clave", "sub": "DiseÃ±ado para capturar mÃ¡s rÃ¡pido, con feedback mÃ¡s claro y mayor control.", "cards": [{"h": "Campos mÃ­nimos", "p": "Importe / Tipo / CategorÃ­a / Fecha en una sola pantalla; la nota es opcional para reducir fricciÃ³n."}, {"h": "Modelo Paloma", "p": "Manija â†’ IntenciÃ³n â†’ Pausa â†’ Feedback. Un bucle lÃºdico que mantiene el hÃ¡bito."}, {"h": "Tres KPI", "p": "Gasto / Ingreso / Presupuesto restante del mes, mostrados primero con avisos suaves."}, {"h": "Buscar registros", "p": "Busca, filtra y exporta CSV para flujos reales como reembolsos."}, {"h": "AnÃ¡lisis ligero", "p": "Vista de categorÃ­as y tendencias. Sin grÃ¡ficos ruidosos: foco en decisiones."}, {"h": "Localâ€‘first", "p": "Datos en el dispositivo por defecto; exportar/eliminar en cualquier momento. SincronizaciÃ³n opcional."}]}, "demo": {"title": "Demo interactiva (simulada)", "sub": "Dos formas: arrastra la paloma arriba o usa el formulario abajo. Los datos se guardan localmente y los KPI se actualizan al instante.", "reset": "Restablecer", "save": "Guardar localmente", "hint": "Guardado en almacenamiento local âœ…"}, "pricing": {"title": "Precios (sugeridos)", "planH": ["Gratis", "Pro"], "pricePro": "Â¥12 / mes", "freeLis": ["Registro rÃ¡pido mÃ­nimo", "Tres KPI y anÃ¡lisis ligero", "Localâ€‘first + exportaciÃ³n CSV/JSON"], "proLis": ["Umbrales de presupuesto y categorizaciÃ³n por reglas", "SincronizaciÃ³n multidispositivo (opcional)", "Recurrentes y categorÃ­as personalizadas"], "benefitsLink": "Ver todos los beneficios â†’"}, "faq": {"title": "FAQ", "qa": [{"q": "Â¿Se suben mis datos?", "a": "No por defecto. Localâ€‘first. Puedes exportar/eliminar cuando quieras. Si activas la sincronizaciÃ³n, habrÃ¡ consentimiento y controles claros."}, {"q": "Â¿Por quÃ© una paloma arrastrable?", "a": "El arrastre radial desde el origen con un umbral reduce activaciones falsas y refuerza la intenciÃ³n de â€œaÃ±adir registroâ€."}]}, "footer_right": "Â© 2025 Â· PÃ¡gina demo para el curso."},
    fr: {"nav_links": ["Fonctions", "DÃ©mo", "Tarifs", "FAQ"], "nav_cta": "Essayer", "hero": {"title": "Notez en 30 secondes.<br/>Faites de la compta une seule action.", "sub": "Localâ€‘first Â· Annuler & Exporter Â· Microâ€‘interaction Â« modÃ¨le pigeon Â» : PoignÃ©e â†’ Intention â†’ Pause â†’ Retour. La poignÃ©e verticale est remplacÃ©e par un pigeon glissable qui ouvre lâ€™ajout rapide."}, "features": {"title": "FonctionnalitÃ©s clÃ©s", "sub": "ConÃ§u pour une saisie plus rapide, un retour plus clair et plus de contrÃ´le.", "cards": [{"h": "Champs minimaux", "p": "Montant / Type / CatÃ©gorie / Date sur un seul Ã©cran ; note optionnelle pour rÃ©duire la friction."}, {"h": "ModÃ¨le Pigeon", "p": "PoignÃ©e â†’ Intention â†’ Pause â†’ Retour. Une boucle ludique qui entretient lâ€™habitude."}, {"h": "Trois KPI", "p": "DÃ©bit / CrÃ©dit / Budget restant du mois mis en avant avec de lÃ©gers rappels."}, {"h": "Recherche des enregistrements", "p": "Recherche, filtre et export CSV pour les besoins rÃ©els (notes de frais, etc.)."}, {"h": "Analyse lÃ©gÃ¨re", "p": "Vue par catÃ©gories et tendance. Pas de graphiques bruyants â€” focus sur la dÃ©cision."}, {"h": "Localâ€‘first", "p": "DonnÃ©es stockÃ©es localement par dÃ©faut ; export/suppression Ã  tout moment. Synchronisation optionnelle."}]}, "demo": {"title": "DÃ©mo interactive (simulÃ©e)", "sub": "Deux voies : faites glisser le pigeon en haut, ou utilisez le formulaire ciâ€‘dessous. DonnÃ©es locales, KPI mis Ã  jour instantanÃ©ment.", "reset": "RÃ©initialiser", "save": "Enregistrer localement", "hint": "EnregistrÃ© en local âœ…"}, "pricing": {"title": "Tarifs (suggestion)", "planH": ["Gratuit", "Pro"], "pricePro": "Â¥12 / mois", "freeLis": ["Ajout rapide minimal", "Trois KPI & analyse lÃ©gÃ¨re", "Localâ€‘first + export CSV/JSON"], "proLis": ["Seuils de budget & catÃ©gorisation par rÃ¨gles", "Synchronisation multiâ€‘appareils (option)", "Ã‰lÃ©ments rÃ©currents & catÃ©gories personnalisÃ©es"], "benefitsLink": "Voir tous les avantages â†’"}, "faq": {"title": "FAQ", "qa": [{"q": "Mes donnÃ©es sontâ€‘elles envoyÃ©es ?", "a": "Par dÃ©faut non. Localâ€‘first. Export/suppression Ã  tout moment. Si la synchro est activÃ©e, consentement et contrÃ´les explicites."}, {"q": "Pourquoi un pigeon glissable ?", "a": "Le glisser radial depuis lâ€™origine avec seuil rÃ©duit les faux dÃ©clenchements et renforce lâ€™intention Â« ajouter Â». "}]}, "footer_right": "Â© 2025 Â· Page dÃ©mo de cours."},
    ko: {"nav_links": ["ê¸°ëŠ¥", "ë°ëª¨", "ìš”ê¸ˆ", "FAQ"], "nav_cta": "ì§€ê¸ˆ ì‚¬ìš©", "hero": {"title": "30ì´ˆ ë§Œì— ê¸°ë¡.<br/>ê°€ê³„ë¶€ë¥¼ í•œ ë²ˆì˜ ì•¡ì…˜ìœ¼ë¡œ.", "sub": "ë¡œì»¬â€‘í¼ìŠ¤íŠ¸ Â· ì‹¤í–‰ì·¨ì†Œ/ë‚´ë³´ë‚´ê¸° Â· â€˜ë¹„ë‘˜ê¸° ëª¨ë¸â€™ ë§ˆì´í¬ë¡œ ì¸í„°ë™ì…˜: í•¸ë“¤â†’ì˜ë„â†’ë©ˆì¶¤â†’í”¼ë“œë°±. ë“œë˜ê·¸ ê°€ëŠ¥í•œ ë¹„ë‘˜ê¸°ë¡œ í€µ ì¶”ê°€ë¥¼ ì—½ë‹ˆë‹¤."}, "features": {"title": "í•µì‹¬ ê¸°ëŠ¥", "sub": "ë” ë¹ ë¥¸ ì…ë ¥, ë” ì„ ëª…í•œ í”¼ë“œë°±, ë” ê°•í•œ í†µì œë¥¼ ìœ„í•´ ì„¤ê³„.", "cards": [{"h": "ìµœì†Œ ì…ë ¥ í•­ëª©", "p": "ê¸ˆì•¡/ìœ í˜•/ì¹´í…Œê³ ë¦¬/ë‚ ì§œë¥¼ í•œ í™”ë©´ì—. ë©”ëª¨ëŠ” ì„ íƒìœ¼ë¡œ ë§ˆì°°ì„ ì¤„ì„."}, {"h": "ë¹„ë‘˜ê¸° ëª¨ë¸", "p": "í•¸ë“¤â†’ì˜ë„â†’ë©ˆì¶¤â†’í”¼ë“œë°±. ìŠµê´€ì„ ìœ ì§€í•˜ëŠ” ìœ ì¾Œí•œ ë£¨í”„."}, {"h": "ì„¸ ê°€ì§€ KPI", "p": "ì›”ê°„ ì§€ì¶œ/ìˆ˜ì…/ì˜ˆì‚° ì”ì•¡ì„ ìš°ì„  ë…¸ì¶œ. ë¶€ë“œëŸ¬ìš´ ë„ˆì§€."}, {"h": "ê¸°ë¡ ê²€ìƒ‰", "p": "ê²€ìƒ‰Â·í•„í„°Â·CSV ë‚´ë³´ë‚´ê¸°. ì‹¤ì‚¬ìš©(ì •ì‚° ë“±)ì— ì í•©."}, {"h": "ë¼ì´íŠ¸ ë¶„ì„", "p": "ì¹´í…Œê³ ë¦¬ ë¶„í¬ì™€ ì¶”ì„¸ ê°œìš”. ì‹œë„ëŸ¬ìš´ ê·¸ë˜í”„ ì—†ì´ ì˜ì‚¬ê²°ì •ì— ì§‘ì¤‘."}, {"h": "ë¡œì»¬â€‘í¼ìŠ¤íŠ¸", "p": "ê¸°ë³¸ì€ ê¸°ê¸° ì €ì¥. ì–¸ì œë“  ë‚´ë³´ë‚´ê¸°/ì‚­ì œ. ë™ê¸°í™”ëŠ” ì„ íƒ."}]}, "demo": {"title": "ì¸í„°ë™í‹°ë¸Œ ë°ëª¨(ì‹œë®¬ë ˆì´ì…˜)", "sub": "ìœ„ì˜ ë¹„ë‘˜ê¸°ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ ì•„ë˜ í¼ì„ ì‚¬ìš©í•˜ì„¸ìš”. ë°ì´í„°ëŠ” ë¡œì»¬ì— ì €ì¥ë˜ê³  KPIê°€ ì¦‰ì‹œ ê°±ì‹ ë©ë‹ˆë‹¤.", "reset": "ì´ˆê¸°í™”", "save": "ë¡œì»¬ ì €ì¥", "hint": "ë¡œì»¬ì— ì €ì¥ë¨ âœ…"}, "pricing": {"title": "ìš”ê¸ˆ(ì œì•ˆ)", "planH": ["ë¬´ë£Œ", "Pro"], "pricePro": "Â¥12 / ì›”", "freeLis": ["ìµœì†Œí•œì˜ í€µ ì¶”ê°€", "ì„¸ ê°€ì§€ KPIì™€ ë¼ì´íŠ¸ ë¶„ì„", "ë¡œì»¬â€‘í¼ìŠ¤íŠ¸ + CSV/JSON ë‚´ë³´ë‚´ê¸°"], "proLis": ["ì˜ˆì‚° ì„ê³„ì¹˜Â·ê·œì¹™ ê¸°ë°˜ ë¶„ë¥˜", "ë©€í‹°ë””ë°”ì´ìŠ¤ ë™ê¸°í™”(ì„ íƒ)", "ë°˜ë³µ í•­ëª©Â·ì‚¬ìš©ì ì§€ì • ì¹´í…Œê³ ë¦¬"], "benefitsLink": "ë©¤ë²„ì‹­ í˜œíƒ ëª¨ë‘ ë³´ê¸° â†’"}, "faq": {"title": "FAQ", "qa": [{"q": "ë°ì´í„°ê°€ ì—…ë¡œë“œë˜ë‚˜ìš”?", "a": "ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë‹ˆìš”. ë¡œì»¬â€‘í¼ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì–¸ì œë“  ë‚´ë³´ë‚´ê¸°/ì‚­ì œ ê°€ëŠ¥. ë™ê¸°í™”ë¥¼ ì¼œë©´ ëª…ì‹œ ë™ì˜ì™€ ì œì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."}, {"q": "ì™œ ë¹„ë‘˜ê¸°ë¥¼ ë“œë˜ê·¸í•˜ë‚˜ìš”?", "a": "ì›ì ì—ì„œì˜ ë°˜ê²½ ë“œë˜ê·¸ì™€ ì„ê³„ì¹˜ë¡œ ì˜¤ë™ì‘ì„ ì¤„ì´ê³  â€˜ì¶”ê°€â€™ ì˜ë„ë¥¼ ê°•í™”í•©ë‹ˆë‹¤."}]}, "footer_right": "Â© 2025 Â· ìˆ˜ì—…ìš© ë°ëª¨ í˜ì´ì§€."}
  };

  function setLang(lang){
    document.documentElement.setAttribute('lang', lang);
    localStorage.setItem('lang', lang);
    if(lang === 'zh') { location.reload(); return; } // reload to restore exact zh source
    applyDict(DICTS[lang] || DICTS.en);
  }

  // Mount selector if missing
  let sel = document.getElementById('langSel');
  if(!sel){
    const wrap = document.querySelector('.nav .inner') || document.querySelector('.nav') || document.body;
    const node = document.createElement('div'); node.className='i18n-switch';
    node.innerHTML = '<select id="langSel"><option value="zh">ç®€ä½“ä¸­æ–‡</option><option value="en">English</option><option value="ja">æ—¥æœ¬èª</option><option value="es">EspaÃ±ol</option><option value="fr">FranÃ§ais</option><option value="ko">í•œêµ­ì–´</option></select>';
    wrap.appendChild(node); sel = document.getElementById('langSel');
  }
  const init = localStorage.getItem('lang') || 'zh';
  sel.value = init;
  if(init !== 'zh') { applyDict(DICTS[init] || DICTS.en); }
  sel.addEventListener('change', e=> setLang(e.target.value));
})();
</script>
<script>
// ===== Drag Pigeon + Modal + LocalStorage KPI (Fix) =====
(function(){
  const $ = (s,root=document)=>root.querySelector(s);
  const $$ = (s,root=document)=>Array.from(root.querySelectorAll(s));

  // --- Elements
  const ring = $('#ring');
  const pigeon = $('#pigeon');
  const wing = $('#pigeon .wing');
  const overlay = $('#overlay');
  const m_amount = $('#m_amount'), m_type = $('#m_type'), m_cat = $('#m_cat'), m_date = $('#m_date'), m_note = $('#m_note');
  const m_cancel = $('#m_cancel'), m_save = $('#m_save');
  const outflowEl = $('#outflow'), inflowEl = $('#inflow'), leftEl = $('#left');

  // --- Utils
  function clamp(v,min,max){ return Math.min(Math.max(v,min),max); }
  function fmt(n){
    try{
      return new Intl.NumberFormat('zh-CN', { style:'currency', currency:'CNY' }).format(n);
    }catch(e){
      // fallback
      return 'Â¥ ' + (Math.round(n*100)/100).toLocaleString('zh-CN', {minimumFractionDigits:2});
    }
  }
  function todayStr(){
    const d = new Date();
    const m = (d.getMonth()+1+'').padStart(2,'0');
    const day = (d.getDate()+'').padStart(2,'0');
    return d.getFullYear() + '-' + m + '-' + day;
  }

  // --- Data
  function loadRecords(){
    try{ return JSON.parse(localStorage.getItem('lnote_records')||'[]'); }catch(e){ return []; }
  }
  function saveRecords(list){
    localStorage.setItem('lnote_records', JSON.stringify(list));
  }
  function recalc(){
    const r = loadRecords();
    let out = 0, inc = 0;
    r.forEach(x => {
      const a = Number(x.amount)||0;
      if(x.type === 'in') inc += a; else out += a;
    });
    const budget = 3000; // demo
    outflowEl.textContent = fmt(out);
    inflowEl.textContent = fmt(inc);
    leftEl.textContent = fmt(budget - out);
  }

  // Set default date
  if(m_date) m_date.value = todayStr();
  recalc();

  // --- Modal helpers
  function openModal(prefill){
    overlay.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    if(prefill && typeof prefill === 'object'){
      if('amount' in prefill) m_amount.value = prefill.amount;
      if('type' in prefill) m_type.value = prefill.type;
      if('cat' in prefill) m_cat.value = prefill.cat;
      if('date' in prefill) m_date.value = prefill.date || todayStr();
      if('note' in prefill) m_note.value = prefill.note;
    }
    setTimeout(()=>{ m_amount && m_amount.focus(); }, 50);
  }
  function closeModal(){
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }

  if(m_cancel) m_cancel.addEventListener('click', closeModal);
  if(overlay) overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeModal(); });

  if(m_save) m_save.addEventListener('click', ()=>{
    const rec = {
      amount: Number(m_amount.value||0),
      type: m_type.value,
      cat: m_cat.value,
      date: m_date.value || todayStr(),
      note: m_note.value||''
    };
    if(!rec.amount || rec.amount <= 0){ alert('è¯·è¾“å…¥æœ‰æ•ˆé‡‘é¢'); return; }
    const list = loadRecords(); list.push(rec); saveRecords(list);
    recalc();
    closeModal();
    const hint = document.getElementById('hint');
    if(hint){ hint.style.display='block'; setTimeout(()=> hint.style.display='none', 1600); }
  });

  // --- Drag logic
  if(pigeon && ring){
    let dragging = false;
    let pointerId = null;
    let start = {x:0,y:0};
    let center = {x:0,y:0};
    let radius = 0;
    let raf = null;
    let tWing = 0; // wing animation accumulator

    function setupGeom(){
      const rect = ring.getBoundingClientRect();
      center = { x: rect.left + rect.width/2, y: rect.top + rect.height/2 };
      radius = Math.min(rect.width, rect.height)/2 - 6;
    }
    window.addEventListener('resize', setupGeom);
    setupGeom();

    function setPigeon(dx, dy){
      pigeon.style.transform = `translate(calc(-50% + ${dx}px), calc(-50% + ${dy}px))`;
    }

    function animateWing(dist){
      // Simple flap amplitude relative to distance
      const amp = Math.min(1, dist / radius);
      tWing += 0.18 + amp*0.12;
      const swing = Math.sin(tWing) * (6 + 8*amp); // degrees
      if(wing){
        wing.style.transform = `rotate(${swing}deg)`;
      }
      ring.style.setProperty('--deg', `${Math.round(amp*360)}deg`);
      if(dragging) raf = requestAnimationFrame(()=> animateWing(dist));
    }

    function onDown(e){
      e.preventDefault();
      dragging = true;
      pointerId = e.pointerId || 'mouse';
      pigeon.setPointerCapture && pigeon.setPointerCapture(e.pointerId);
      setupGeom();
      onMove(e);
      cancelAnimationFrame(raf); raf = requestAnimationFrame(()=> animateWing(0));
    }
    function onMove(e){
      if(!dragging) return;
      const x = e.clientX, y = e.clientY;
      const dx = x - center.x, dy = y - center.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      const max = radius - 6;
      const ratio = Math.min(1, dist / max);
      const dxClamped = dx * ratio / (dist || 1) * Math.min(dist, max);
      const dyClamped = dy * ratio / (dist || 1) * Math.min(dist, max);
      setPigeon(dxClamped, dyClamped);
      ring.style.setProperty('--deg', `${Math.round(ratio*360)}deg`);
      // store on element for up
      pigeon._last = {dist: dist, ratio: ratio};
    }
    function bounceBack(){
      pigeon.style.transition = 'transform .28s cubic-bezier(.2,.8,.2,1)';
      setPigeon(0,0);
      setTimeout(()=>{ pigeon.style.transition = ''; }, 300);
      cancelAnimationFrame(raf); raf = null;
      if(wing) wing.style.transform = 'rotate(0deg)';
      ring.style.setProperty('--deg','0deg');
    }
    function onUp(e){
      if(!dragging) return;
      dragging = false;
      const last = pigeon._last || {dist:0, ratio:0};
      const threshold = 0.52; // 52% of radius
      if(last.ratio >= threshold){
        // Trigger add modal with defaults
        openModal({ type:'out', cat:'é¤é¥®', date: todayStr() });
        // reset pigeon
        bounceBack();
      }else{
        bounceBack();
      }
    }

    pigeon.addEventListener('pointerdown', onDown);
    window.addEventListener('pointermove', onMove);
    window.addEventListener('pointerup', onUp);
    window.addEventListener('pointercancel', onUp);

    // Touch-action to ensure pointer events travel
    pigeon.style.touchAction = 'none';
  }

  // --- Demo form (below) save/reset hooks (ensure wired)
  const amount = $('#amount'), type = $('#type'), cat = $('#cat'), dateEl = $('#date'), note = $('#note');
  const resetBtn = $('#reset'), saveBtn = $('#save'), hint = $('#hint');
  if(dateEl) dateEl.value = todayStr();

  if(resetBtn) resetBtn.addEventListener('click', ()=>{
    amount.value=''; type.value='out'; cat.value='é¤é¥®'; dateEl.value=todayStr(); note.value=''; hint && (hint.style.display='none');
  });
  if(saveBtn) saveBtn.addEventListener('click', ()=>{
    const rec = { amount: Number(amount.value||0), type: type.value, cat: cat.value, date: dateEl.value || todayStr(), note: note.value||'' };
    if(!rec.amount || rec.amount <= 0){ alert('è¯·è¾“å…¥æœ‰æ•ˆé‡‘é¢'); return; }
    const list = loadRecords(); list.push(rec); saveRecords(list); recalc(); if(hint){ hint.style.display='block'; setTimeout(()=> hint.style.display='none', 1600); }
  });
})();
</script>
</body>
</html>
